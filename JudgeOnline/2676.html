
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel=stylesheet href='include/hoj.css' type='text/css'>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/logo.png"/>
</div>
<table width=96%> 
	<tr align="center" class='hd' valign="top">
				<th><a href="https://www.lydsy.com/JudgeOnline/faqs.php">F.A.Qs</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/">Home</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/bbs.php">Discuss</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/problemset.php">ProblemSet</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/status.php">Status</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/ranklist.php">Ranklist</a></th>
        <th><a href="https://www.lydsy.com/JudgeOnline/contest.php">Contest</a></th>
        <th><a href="http://begin.lydsy.com/JudgeOnline">入门OJ</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/modifypage.php"><b>ModifyUser</b></a>&nbsp;&nbsp;<a href='https://www.lydsy.com/JudgeOnline/userinfo.php?user=Xeonacid'>
				<font color=red>Xeonacid</font></a></th><th><a href="https://www.lydsy.com/JudgeOnline/logout.php">Logout</a></th>		<th><a href="https://www.lydsy.com/JudgeOnline/donation.php"><font color=red>捐赠本站</font></a></th>
	</tr>
</table>
</center>
<center>
<div class="notice">
	<div>
		<B>Notice:</B>注册本OJ方式请见https://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=5671	</div>
</div>
</center>
</div>
<title>Problem 2676. -- Contra</title><center><h2>2676: Contra</h2><span class=green>Time Limit: </span>30 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>512 MB<br><span class=green>Submit: </span>132&nbsp;&nbsp;<span class=green>Solved: </span>59<br>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=2676'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=2676'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=2676'>Discuss</a>]</center><h2>Description</h2><div class=content><div id="psrc" style="margin-top: 20px; display: block">
<div class="pdsec"><span style="font-size: medium">　　偶然间，chnlich发现了他小时候玩过的一个游戏&ldquo;魂斗罗&rdquo;，于是决定怀旧。但是这是一个奇怪的魂斗罗MOD。<br />
　　有N个关卡，初始有Q条命。<br />
　　每通过一个关卡，会得到u分和1条命，生命上限为Q。<br />
　　其中u=min(最近一次连续通过的关数,R)。<br />
　　若没有通过这个关卡，将会失去1条命，并进入下一个关卡。<br />
　　当没有生命或没有未挑战过的关卡时，游戏结束，得到的分数为每关得到的分数的总和。<br />
　　由于chnlich好久不玩这个游戏了，每条命通过每个关卡的概率均为p(0&lt;=p&lt;=1)，原先chnlich的最高分纪录是S。<br />
　　现在chnlich想要知道，当p至少为多少时，chnlich期望获得的总分数能够超过原先的最高分。<br />
</span></div>
</div>
<div id="pcont1" style="margin-top: 20px; display: block"></div></div><h2>Input</h2><div class=content><div id="pcont1" style="margin-top: 20px; display: block">
<div class="pdcont"><span style="font-size: medium">　　输入共一行，分别表示整数N，整数R，整数Q，原先的最高分整数S。<br />
</span></div>
</div></div><h2>Output</h2><div class=content><div class="pdcont"><span style="font-size: medium">　　输出共一行，若不存在这样的p，输出&quot;Impossible.&quot;（不包含引号），否则输出p（保留6位小数）。<br />
</span></div></div><h2>Sample Input</h2>
			<div class=content><span class=sampledata>样例输入一<br />
　　4 2 1 5<br />
<br />
样例输出一<br />
　　0.880606<br />
<br />
样例输入二<br />
　　12 3 2 12<br />
<br />
样例输出二<br />
　　0.687201<br />
<br />
</span></div><h2>Sample Output</h2>
			<div class=content><span class=sampledata></span></div><h2>HINT</h2>
			<div class=content><p><p>数据规模和约定<br /><br />
　　对于20%的数据，N&lt;=15<br /><br />
　　对于50%的数据，N&lt;=10000<br /><br />
　　对于100%的数据，N&lt;=10^8,1&lt;=R&lt;=20,1&lt;=Q&lt;=5,保证S是一个可能出现的分数。</p><br />
<p>补充说明<br /><br />
　　例如，当N=12，R=3，Q=2时<br /><br />
　　第一关：未通过 u=0 获得分数0 总分为0 剩余生命1<br /><br />
　　第二关：通过 获得分数1 总分为1 剩余生命2<br /><br />
　　第三关：通过 获得分数2 总分为3 剩余生命2<br /><br />
　　第四关：通过 获得分数3 总分为6 剩余生命2<br /><br />
　　第五关：通过 获得分数3 总分为9 剩余生命2<br /><br />
　　第六关：未通过 获得分数0 总分为9 剩余生命1<br /><br />
　　第七关：通过 获得分数1 总分为10 剩余生命2<br /><br />
　　第八关：未通过 获得分数0 总分为10 剩余生命1<br /><br />
　　第九关：未通过 获得分数0 总分为10 剩余生命0<br /><br />
　　游戏结束 总分为10<br /><br />
　　这是chnlich游戏的一种可能性<br /><br />
</p></p></div><h2>Source</h2>
			<div class=content><p><a href='https://www.lydsy.com/JudgeOnline/problemset.php?search='></a></p></div><center>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=2676'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=2676'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=2676'>Discuss</a>]</center>﻿<br>
<a href="https://www.lydsy.com/JudgeOnline/"><span class=red>HOME</span></a>
<a href="javascript:history.go(-1)"><span class=red>Back</span></a>

<hr>
<center>
	<div class="footer">
			<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=ko">한국어</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=cn">中文</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=fa">فارسی</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=en">English</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=th">ไทย</a>
	<br>		<div>版权所有 &copy;2008-2018 大视野在线测评</div>
		<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
	</div>
</center>
</body>
</html>

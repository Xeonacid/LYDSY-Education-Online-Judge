
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel=stylesheet href='include/hoj.css' type='text/css'>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/logo.png"/>
</div>
<table width=96%> 
	<tr align="center" class='hd' valign="top">
				<th><a href="https://www.lydsy.com/JudgeOnline/faqs.php">F.A.Qs</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/">Home</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/bbs.php">Discuss</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/problemset.php">ProblemSet</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/status.php">Status</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/ranklist.php">Ranklist</a></th>
        <th><a href="https://www.lydsy.com/JudgeOnline/contest.php">Contest</a></th>
        <th><a href="http://begin.lydsy.com/JudgeOnline">入门OJ</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/modifypage.php"><b>ModifyUser</b></a>&nbsp;&nbsp;<a href='https://www.lydsy.com/JudgeOnline/userinfo.php?user=Xeonacid'>
				<font color=red>Xeonacid</font></a></th><th><a href="https://www.lydsy.com/JudgeOnline/logout.php">Logout</a></th>		<th><a href="https://www.lydsy.com/JudgeOnline/donation.php"><font color=red>捐赠本站</font></a></th>
	</tr>
</table>
</center>
<center>
<div class="notice">
	<div>
		<B>Notice:</B>1:注册本OJ方式请见https://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=5671
	</div>
</div>
</center>
</div>
<title>Problem 5423. -- 数学基友</title><center><h2>5423: 数学基友</h2><span class=green>Time Limit: </span>10 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>512 MB<br><span class=green>Submit: </span>1&nbsp;&nbsp;<span class=green>Solved: </span>1<br>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=5423'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=5423'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=5423'>Discuss</a>]</center><h2>Description</h2><div class=content><div>作为一个男女比例4:1的班级，fish的班上充满了的好伙 (ji) 伴 (you)，一共q对。上帝为之动容，决定送给每一</div>
<div>对好伙伴一些礼物--《数学之(ji)友》。上帝很调皮，把这些数学之友用绳子连了起来（不要问我是怎么连的），</div>
<div>每条绳子链接两本数学之友，细心的fish 发现这些数学之友和绳子构成了一棵无根树！可上帝不好意思让同学们</div>
<div>做太多的作业，决定少给他们一些，于是上帝对每一对好伙伴说：&quot;你们两个从这些数学基友挑出几本来做做就行</div>
<div>了。每人可以挑出形成一条链的数学之友，不过两个人可不能抢同一本哦，所以你们两个挑的链不能包含同一本数</div>
<div>学之友。&quot;这q对基友全部都是丧心病狂的学霸，他们希望获得尽量多的作业，同时因为两个人关系特别好，所以希</div>
<div>望获得的作业总数最多。上帝为每一对好基友提供了一棵树的数学基友让他们来挑，细心的fish 又发现，这些树</div>
<div>都是某一棵有n个节点的无根树的一部分，对于第i对基友，就是这棵树上以xi点为根、yi点所在的子树。现给出这</div>
<div>棵n个节点的树以及xi和yi，fish想知道每一对基友最多能获得多少本数学基友。</div>
<p></p></div><h2>Input</h2><div class=content><div>给定一棵n个节点的无根树，共q次询问，</div>
<div>每次询问给定两个节点xi和yi（可能xi=yi），</div>
<div>表示对&quot;以xi为根、节点yi所在子树&quot;询问以下答案：</div>
<div>在子树内找两条不相交的路径，使两条路径所包含的节点总数最多。</div>
<div>
<div>第1行一个整数n，表示这棵树的节点数，</div>
<div>第2到第n行每行两个整数x,y，表示树上x节点与y节点之间有一条边</div>
<div>第n+1行有一个整数q</div>
<div>接下来q行每行两个整数xi,yi，表示一次询问，xi,yi含义同题目描述</div>
<div>1&lt;=n&lt;=100000,1&lt;=q&lt;=200000,1&lt;=xi,yi&lt;=n</div>
</div>
<p></p></div><h2>Output</h2><div class=content><div>共q行，对于每个询问输出一行一个整数，表示两条路径包含的最多的节点总数</div>
<p></p></div><h2>Sample Input</h2>
			<div class=content><span class=sampledata>7<br />
1 2<br />
1 3<br />
3 4<br />
3 5<br />
4 7<br />
4 6<br />
3<br />
1 1<br />
7 3<br />
3 5</span></div><h2>Sample Output</h2>
			<div class=content><span class=sampledata>7<br />
4<br />
1<br />
【HIN】<br />
"不相交"指两条路径不共用同一个节点。<br />
一条路径可以为空（包含0个节点）或只包含1个节点。<br />
"以一个节点x为根，另一个节点y所在子树"指，这棵树以x为整棵树的根时，<br />
树上"以y作为根的子树"，具体可以参考样例。特别地，当x=y时表示整棵树。<br />
【样例解释】<br />
对于第一个询问，所询问的子树就是原树，两条路径可以为2-1-3-5和6-4-7，总节点数为7</span></div><h2>HINT</h2>
			<div class=content><p></p></div><h2>Source</h2>
			<div class=content><p><a href='https://www.lydsy.com/JudgeOnline/problemset.php?search='></a></p></div><center>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=5423'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=5423'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=5423'>Discuss</a>]</center>﻿<br>
<a href="https://www.lydsy.com/JudgeOnline/"><span class=red>HOME</span></a>
<a href="javascript:history.go(-1)"><span class=red>Back</span></a>

<hr>
<center>
	<div class="footer">
			<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=ko">한국어</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=cn">中文</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=fa">فارسی</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=en">English</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=th">ไทย</a>
	<br><div>版权所有 &copy;2008-2018 大视野在线测评 | <a href="http://www.miitbeian.gov.cn">湘ICP备13009380号</a></div>
		<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
	</div>
</center>
</body>
</html>


<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel=stylesheet href='include/hoj.css' type='text/css'>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/logo.png"/>
</div>
<table width=96%> 
	<tr align="center" class='hd' valign="top">
				<th><a href="https://www.lydsy.com/JudgeOnline/faqs.php">F.A.Qs</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/">Home</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/bbs.php">Discuss</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/problemset.php">ProblemSet</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/status.php">Status</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/ranklist.php">Ranklist</a></th>
        <th><a href="https://www.lydsy.com/JudgeOnline/contest.php">Contest</a></th>
        <th><a href="http://begin.lydsy.com/JudgeOnline">入门OJ</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/modifypage.php"><b>ModifyUser</b></a>&nbsp;&nbsp;<a href='https://www.lydsy.com/JudgeOnline/userinfo.php?user=Xeonacid'>
				<font color=red>Xeonacid</font></a></th><th><a href="https://www.lydsy.com/JudgeOnline/logout.php">Logout</a></th>		<th><a href="https://www.lydsy.com/JudgeOnline/donation.php"><font color=red>捐赠本站</font></a></th>
	</tr>
</table>
</center>
<center>
<div class="notice">
	<div>
		<B>Notice:</B>注册本OJ方式请见https://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=5671	</div>
</div>
</center>
</div>
<title>Problem 4957. -- [Wf2017]Son of Pipe Stream</title><center><h2>4957: [Wf2017]Son of Pipe Stream</h2><span class=green>Time Limit: </span>5 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>512 MBSec&nbsp;&nbsp;<span class=red>Special Judge</span><br><span class=green>Submit: </span>12&nbsp;&nbsp;<span class=green>Solved: </span>10<br>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=4957'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4957'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=4957'>Discuss</a>]</center><h2>Description</h2><div class=content><div>两年前,你在你的家乡协助安装了全国第一个Flubber管道网络并取得了巨大的成功。民意调查显示,每个人都喜欢</div>
<div>在自己的厨房里安装他们自己的Flubber分配器 (类似水龙头) ,现在有一些活跃的公民还发现了另一个用途。显然</div>
<div>Flubber与水混合后有助于扑灭火灾!这是一个非常及时的发现,因为最近失控的火灾真是意外地常见。你家乡的城</div>
<div>市委员会希望在中心车站生产Flubber和水的混合物来充分利用Flubber的这个特性。这个被称为Flubber Departme</div>
<div>nt (FD)的车站也将配备训练有素的专业人员,他们负责前往火灾场所并利用加工过的Flubber来控制火情。管道已</div>
<div>经安置在整个城市之中。你需要通过管道的布局确定如何安排从Flubber工厂运送到 FD的Flubber以及从当地水源</div>
<div>到FD的水。注意Flubber和水会流经相同的管道网络,甚至是同一个管道。所有管道都是双向的,但是Flubber和水不</div>
<div>能在相同的管道中以相反的方向运输。此外,如果两种液体在相同的管道以相同的方向输送,它们将不可避免地混合</div>
<div>。因此网络中的每个节点都配备了特殊的膜与过滤器,你可以根据自己的需要来分离和重组所有流进的混合物。网</div>
<div>络是一个封闭的系统,所以除了来源地和目的地(FD)之外,流入每个节点的总流速必须等于流出的总流速。每个管道</div>
<div>都有固定的容量。Flubber稍微粘稠一些,它具有粘度值v,这意味着可以运输v升/秒的水的管道只能运输1升/秒的Fl</div>
<div>ubber。而管道的容量对于两者的混合物是呈线性分布的。准确来说,如果用c表示管道相对水的容量限制,f和w表示</div>
<div>流经管道的Flubber和水的速率 (均以升/秒计算) ,则容量约束满足不等式v&middot;f+w&le;c。你主要关心的是制衡到达FD</div>
<div>的混合物。你希望液体总量尽可能多,但你也需要足够的水来稀释Flubber(未稀释时Flubber高度易燃) ,并且需要</div>
<div>足够的Flubber(毕竟是Flubber Department)!你已经想出了一个公式来衡量最终混合物的&quot;价值&quot;:F^a&middot;W^{1?a},其</div>
<div>中F是流入Flubber的速率,单位为升/秒,W 是流入水的速率,单位为升/秒,a是给定的0和1之间的常数。请你确定可</div>
<div>以得到的F^a&middot;W^{1?a}最大值,以及如何安排Flubber和水来实现这个最大值。</div></div><h2>Input</h2><div class=content><div>第一行包含地点的数量n(3&le;n&le;200) ,管道的数量p(n?1&le;p&le;n(n?1)/2) ,实数值v(1&le;v&le;10)和a(0.01&le;a&le;0.99) 。</div>
<div>地点从1到n标号,Flubber工厂是1 ,水源是2 ,FD是3。实数值在小数点后最多有10位数字。</div>
<div>接下来p行,每行描述一条管道。每行包含两个整数j和k(1&le;j&lt;k&le;n)&nbsp;</div>
<div>对应管道连接的两个地点,以及一个整数c(1&le;c&le;10),对应管道的容量(单位:升/秒) 。</div>
<div>没有两条管道连接相同的两个位置。此外,保证管道网络是连通的。</div></div><h2>Output</h2><div class=content><div>首先,对于每条管道 (按输入的顺序) ,输出两个值:Flubber在其中的流速和水在其中的流速(如</div>
<div>果是从k流到j,用负数表示) ,使得F^a&middot;W^{1?a}最大。然后,输出这个最大值,精确到绝对误差不超过10^-4。</div>
<div>如果存在多个解,那么任意一个解都是可接受的。</div>
<div>所有的限制 (不能在同一管道中以不同的方向输送Flubber和水、流量平衡、管道容量、构造解与答案的一致性)&nbsp;</div>
<div>必须满足绝对误差不超过10^-4。</div></div><h2>Sample Input</h2>
			<div class=content><span class=sampledata>样例1<br />
6 6 3.0 0.66<br />
2 4 8<br />
4 6 1<br />
3 6 1<br />
4 5 5<br />
1 5 7<br />
3 5 3<br />
样例2<br />
5 5 1.0 0.5<br />
1 2 10<br />
2 3 10<br />
3 4 10<br />
4 5 10<br />
3 5 10 </span></div><h2>Sample Output</h2>
			<div class=content><span class=sampledata>样例1<br />
0.000000000 1.360000000<br />
0.000000000 1.000000000<br />
0.000000000 -1.000000000<br />
0.000000000 0.360000000<br />
0.880000000 0.000000000<br />
-0.880000000 -0.360000000<br />
1.02037965897<br />
样例2<br />
5 0<br />
5 5<br />
4.2 3.14159<br />
4.2 3.14159<br />
-4.2 -3.14159<br />
5</span></div><h2>HINT</h2>
			<div class=content><p></p></div><h2>Source</h2>
			<div class=content><p><a href='https://www.lydsy.com/JudgeOnline/problemset.php?search=%E9%B8%A3%E8%B0%A2Tangjz%E6%8F%90%E4%BE%9B%E7%BF%BB%E8%AF%91'>鸣谢Tangjz提供翻译</a></p></div><center>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=4957'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4957'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=4957'>Discuss</a>]</center>﻿<br>
<a href="https://www.lydsy.com/JudgeOnline/"><span class=red>HOME</span></a>
<a href="javascript:history.go(-1)"><span class=red>Back</span></a>

<hr>
<center>
	<div class="footer">
			<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=ko">한국어</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=cn">中文</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=fa">فارسی</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=en">English</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=th">ไทย</a>
	<br>		<div>版权所有 &copy;2008-2018 大视野在线测评</div>
		<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
	</div>
</center>
</body>
</html>

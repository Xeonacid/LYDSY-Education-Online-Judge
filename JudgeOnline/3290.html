
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel=stylesheet href='include/hoj.css' type='text/css'>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/logo.png"/>
</div>
<table width=96%> 
	<tr align="center" class='hd' valign="top">
				<th><a href="https://www.lydsy.com/JudgeOnline/faqs.php">F.A.Qs</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/">Home</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/bbs.php">Discuss</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/problemset.php">ProblemSet</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/status.php">Status</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/ranklist.php">Ranklist</a></th>
        <th><a href="https://www.lydsy.com/JudgeOnline/contest.php">Contest</a></th>
        <th><a href="http://begin.lydsy.com/JudgeOnline">入门OJ</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/modifypage.php"><b>ModifyUser</b></a>&nbsp;&nbsp;<a href='https://www.lydsy.com/JudgeOnline/userinfo.php?user=Xeonacid'>
				<font color=red>Xeonacid</font></a></th><th><a href="https://www.lydsy.com/JudgeOnline/logout.php">Logout</a></th>		<th><a href="https://www.lydsy.com/JudgeOnline/donation.php"><font color=red>捐赠本站</font></a></th>
	</tr>
</table>
</center>
<center>
<div class="notice">
	<div>
		<B>Notice:</B>注册本OJ方式请见https://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=5671	</div>
</div>
</center>
</div>
<title>Problem 3290. -- Theresa与数据结构</title><center><h2>3290: Theresa与数据结构</h2><span class=green>Time Limit: </span>50 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>512 MB<br><span class=green>Submit: </span>125&nbsp;&nbsp;<span class=green>Solved: </span>27<br>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=3290'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=3290'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=3290'>Discuss</a>]</center><h2>Description</h2><div class=content><div>【题目背景】</div>
<div>Theresa是个爱思考的女孩&hellip;&hellip;</div>
<div>【问题描述】</div>
<div>这是个复杂的世界。人类社会，自然界，还有地球之外的银河&hellip;&hellip;</div>
<div>每一天日出日落，人来人往，步履匆匆。究竟是为什么呢？那支配着一切的至高无上的法则又是否存在呢？Theres</div>
<div>a知道，这个问题并不是一朝一夕就可以解答的，只有在仔细、深入的观察和思考以后，才有可能将所有支离破碎</div>
<div>的线索联系起来，从而隐约窥见真实的答案。于是，Theresa经常思考生活中遇到的大大小小的问题。为什么港台</div>
<div>出版的书籍里印刷的汉字她一个也不认识呢？为什么隔夜的白开水中富含一氧化二氢呢？为什么每年都有一段时间</div>
<div>Gmail邮箱上不去呢？&hellip;&hellip;为了更加系统、科学地分析这些问题，Theresa决定向你求助。长话短说，Theresa想请</div>
<div>你帮助她实现一个数据结构。这个数据结构的功能是在空间直角坐标系中维护一个点的集合，并支持以下三类操作</div>
<div>：</div>
<div>1.ADD x y z &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;加入一个新的点，点的坐标为(x, y, z)。</div>
<div>2.QUERY x y z r &nbsp; &nbsp; &nbsp;查询在正方体(x, y, z) - (x+r, y+r, z+r)内部的点的数目。</div>
<div>3.CANCEL &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 撤销最近的一次ADD操作。</div>
<div>其中x,y,z,r均为给出的整数。QUERY操作中，(x,y,z)为正方体的一个顶点的坐标，r为正方体的边长。在正方体边</div>
<div>界上的点也算在正方体内部。这个问题可能过于困难，所以Theresa并不强迫你实现一个高效的数据结构。然而，</div>
<div>你必须对每一次QUERY操作给出正确的答案。</div></div><h2>Input</h2><div class=content><div>
<div>第一行包含一个整数N，表示最初的点集有N个点。</div>
<div>接下来N行，每行包含三个整数xi、yi、zi，依次表示每个点的坐标。</div>
<div>第N+2行包含一个整数Q，表示将有Q次操作。</div>
<div>接下来Q行，每行表示一次操作，格式如题目描述。</div>
<div>1 &le; N + Q &le; 100 000， 0 &le; x, y, z, r &le; 10^7。</div>
<div>r 为正整数。所有的CANCEL操作均为有效操作。不同的点的坐标可能重合。</div>
</div></div><h2>Output</h2><div class=content><div>输出若干行，每行一个整数，依次表示每次查询操作的答案。</div></div><h2>Sample Input</h2>
			<div class=content><span class=sampledata>2<br />
1 2 3<br />
1 1 3<br />
7<br />
ADD 0 4 3<br />
QUERY 0 0 0 4<br />
ADD 1 1 5<br />
QUERY 1 1 2 3<br />
QUERY 0 2 2 1<br />
CANCEL<br />
QUERY 1 1 2 3</span></div><h2>Sample Output</h2>
			<div class=content><span class=sampledata>3<br />
3<br />
1<br />
2<br />
样例说明<br />
第1次查询正方体(0,0,0)-(4,4,4)，内部包含点(1,2,3)，(1,1,3)，(0,4,3)。<br />
第2次查询正方体(1,1,2)-(4,4,5)，内部包含点(1,2,3)，(1,1,3)，(1,1,5)。<br />
第3次查询正方体(0,2,2)-(1,3,3)，内部包含点(1,2,3)。<br />
第4次查询正方体(1,1,2)-(4,4,5)，内部包含点(1,2,3)，(1,1,3)。</span></div><h2>HINT</h2>
			<div class=content><p></p></div><h2>Source</h2>
			<div class=content><p><a href='https://www.lydsy.com/JudgeOnline/problemset.php?search='></a></p></div><center>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=3290'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=3290'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=3290'>Discuss</a>]</center>﻿<br>
<a href="https://www.lydsy.com/JudgeOnline/"><span class=red>HOME</span></a>
<a href="javascript:history.go(-1)"><span class=red>Back</span></a>

<hr>
<center>
	<div class="footer">
			<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=ko">한국어</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=cn">中文</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=fa">فارسی</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=en">English</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=th">ไทย</a>
	<br>		<div>版权所有 &copy;2008-2018 大视野在线测评</div>
		<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
	</div>
</center>
</body>
</html>


<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel=stylesheet href='include/hoj.css' type='text/css'>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/logo.png"/>
</div>
<table width=96%> 
	<tr align="center" class='hd' valign="top">
				<th><a href="https://www.lydsy.com/JudgeOnline/faqs.php">F.A.Qs</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/">Home</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/bbs.php">Discuss</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/problemset.php">ProblemSet</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/status.php">Status</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/ranklist.php">Ranklist</a></th>
        <th><a href="https://www.lydsy.com/JudgeOnline/contest.php">Contest</a></th>
        <th><a href="http://begin.lydsy.com/JudgeOnline">入门OJ</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/modifypage.php"><b>ModifyUser</b></a>&nbsp;&nbsp;<a href='https://www.lydsy.com/JudgeOnline/userinfo.php?user=Xeonacid'>
				<font color=red>Xeonacid</font></a></th><th><a href="https://www.lydsy.com/JudgeOnline/logout.php">Logout</a></th>		<th><a href="https://www.lydsy.com/JudgeOnline/donation.php"><font color=red>捐赠本站</font></a></th>
	</tr>
</table>
</center>
<center>
<div class="notice">
	<div>
		<B>Notice:</B>注册本OJ方式请见https://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=5671	</div>
</div>
</center>
</div>
<title>Problem 4199. -- [Noi2015]品酒大会</title><center><h2>4199: [Noi2015]品酒大会</h2><span class=green>Time Limit: </span>10 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>512 MB<br><span class=green>Submit: </span>1553&nbsp;&nbsp;<span class=green>Solved: </span>882<br>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=4199'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4199'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=4199'>Discuss</a>]</center><h2>Description</h2><div class=content><p>&nbsp;一年一度的&ldquo;幻影阁夏日品酒大会&rdquo;隆重开幕了。大会包含品尝和趣味挑战两个环节，分别向优胜者颁发&ldquo;首席品</p>
<div>酒家&rdquo;和&ldquo;首席猎手&rdquo;两个奖项，吸引了众多品酒师参加。在大会的晚餐上，调酒师Rainbow调制了 n 杯鸡尾酒。</div>
<div>这 n 杯鸡尾酒排成一行，其中第 i 杯酒 (1&le;i&le;n) 被贴上了一个标签 s_i ，每个标签都是 26 个小写英文字母</div>
<div>之一。设 Str(l,r) 表示第 l 杯酒到第 r 杯酒的 r-l+1 个标签顺次连接构成的字符串。若 Str(p,po)=Str(q,qo</div>
<div>) ，其中 1&le;p&le;po&le;n,1&le;q&le;qo&le;n,p&ne;q,po-p+1=qo-q+1=r ，则称第 p 杯酒与第 q 杯酒是&ldquo; r 相似&rdquo;的。当</div>
<div>然两杯&ldquo; r 相似&rdquo;(r&gt;1)的酒同时也是&ldquo; 1 相似&rdquo;、&ldquo; 2 相似&rdquo;、&hellip;&hellip;、&ldquo; (r-1) 相似&rdquo;的。在品尝环节上，</div>
<div>品酒师Freda轻松地评定了每一杯酒的美味度，凭借其专业的水准和经验成功夺取了&ldquo;首席品酒家&rdquo;的称号，其中</div>
<div>第 i 杯酒 (1&le;i&le;n) 的美味度为 a_i 。现在Rainbow公布了挑战环节的问题：本次大会调制的鸡尾酒有一个特点</div>
<div>，如果把第 p 杯酒与第 q 杯酒调兑在一起，将得到一杯美味度为 a_p a_q 的酒。现在请各位品酒师分别对于 r=</div>
<div>0,1,2,?,n-1 ，统计出有多少种方法可以选出 2 杯&ldquo; r 相似&rdquo;的酒，并回答选择 2 杯&ldquo; r 相似&rdquo;的酒调兑可以</div>
<div>得到的美味度的最大值。</div>
<div></div></div><h2>Input</h2><div class=content><div>输入文件的第1行包含1个正整数 n ，表示鸡尾酒的杯数。</div>
<div>第 2 行包含一个长度为 n 的字符串 S ，其中第 i 个字符表示第 i 杯酒的标签。</div>
<div>第 3 行包含 n 个整数，相邻整数之间用单个空格隔开，其中第 i 个整数表示第 i 杯酒的美味度 a_i 。</div>
<div>n=300,000<span class="Apple-tab-span" style="white-space: pre;">	</span>|a_i |&le;1,000,000,000<span class="Apple-tab-span" style="white-space: pre;">	</span></div>
<div></div></div><h2>Output</h2><div class=content><p>输出文件包括 n 行。第 i 行输出 2 个整数，中间用单个空格隔开。</p>
<div>
<div>第 1 个整数表示选出两杯&ldquo; (i-1)&quot; &quot; 相似&rdquo;的酒的方案数，</div>
<div>第 2 个整数表示选出两杯&ldquo; (i-1) 相似&rdquo;的酒调兑可以得到的最大美味度。</div>
<div>若不存在两杯&ldquo; (i-1) 相似&rdquo;的酒，这两个数均为 0 。</div>
<div></div>
</div></div><h2>Sample Input</h2>
			<div class=content><span class=sampledata>10<br />
ponoiiipoi<br />
2 1 4 7 4 8 3 6 4 7</span></div><h2>Sample Output</h2>
			<div class=content><span class=sampledata>45 56<br />
10 56<br />
3 32<br />
0 0<br />
0 0<br />
0 0<br />
0 0<br />
0 0<br />
0 0<br />
0 0<br />
【样例说明1】<br />
用二元组 (p,q) 表示第 p 杯酒与第 q 杯酒。<br />
0 相似：所有 45 对二元组都是 0 相似的，美味度最大的是 8×7=56 。<br />
1 相似： (1,8) (2,4) (2,9) (4,9) (5,6) (5,7) (5,10) (6,7) (6,10) (7,10) ，最大的 8×7=56 。<br />
2 相似： (1,8) (4,9) (5,6) ，最大的 4×8=32 。<br />
没有 3,4,5,?,9 相似的两杯酒，故均输出 0 。</span></div><h2>HINT</h2>
			<div class=content><p><p></p><br />
<p></p></p></div><h2>Source</h2>
			<div class=content><p><a href='https://www.lydsy.com/JudgeOnline/problemset.php?search='></a></p></div><center>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=4199'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=4199'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=4199'>Discuss</a>]</center>﻿<br>
<a href="https://www.lydsy.com/JudgeOnline/"><span class=red>HOME</span></a>
<a href="javascript:history.go(-1)"><span class=red>Back</span></a>

<hr>
<center>
	<div class="footer">
			<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=ko">한국어</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=cn">中文</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=fa">فارسی</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=en">English</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=th">ไทย</a>
	<br>		<div>版权所有 &copy;2008-2018 大视野在线测评</div>
		<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
	</div>
</center>
</body>
</html>

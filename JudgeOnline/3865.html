
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link rel=stylesheet href='include/hoj.css' type='text/css'>
</head>
<body>
<center>
<div style="width:90%; text-align:left">
<img src="image/logo.png"/>
</div>
<table width=96%> 
	<tr align="center" class='hd' valign="top">
				<th><a href="https://www.lydsy.com/JudgeOnline/faqs.php">F.A.Qs</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/">Home</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/bbs.php">Discuss</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/problemset.php">ProblemSet</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/status.php">Status</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/ranklist.php">Ranklist</a></th>
        <th><a href="https://www.lydsy.com/JudgeOnline/contest.php">Contest</a></th>
        <th><a href="http://begin.lydsy.com/JudgeOnline">入门OJ</a></th>
		<th><a href="https://www.lydsy.com/JudgeOnline/modifypage.php"><b>ModifyUser</b></a>&nbsp;&nbsp;<a href='https://www.lydsy.com/JudgeOnline/userinfo.php?user=Xeonacid'>
				<font color=red>Xeonacid</font></a></th><th><a href="https://www.lydsy.com/JudgeOnline/logout.php">Logout</a></th>		<th><a href="https://www.lydsy.com/JudgeOnline/donation.php"><font color=red>捐赠本站</font></a></th>
	</tr>
</table>
</center>
<center>
<div class="notice">
	<div>
		<B>Notice:</B>注册本OJ方式请见https://www.lydsy.com/JudgeOnline/wttl/thread.php?tid=5671	</div>
</div>
</center>
</div>
<title>Problem 3865. -- NO ACM NO LIFE</title><center><h2>3865: NO ACM NO LIFE</h2><span class=green>Time Limit: </span>3 Sec&nbsp;&nbsp;<span class=green>Memory Limit: </span>128 MB<br><span class=green>Submit: </span>3&nbsp;&nbsp;<span class=green>Solved: </span>0<br>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=3865'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=3865'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=3865'>Discuss</a>]</center><h2>Description</h2><div class=content><div>There is an old country and the king fell in love with a devil. The devil always asks the king to do some crazy things. Although the king used to be wise and beloved by his people. Now he is just like a boy in love and can&rsquo;t refuse any request from the devil. Also, this devil is looking like a very cute Loli.</div>
<div></div>
<div>If you solved the last problem, you will see that the devil can't figure out who is z*p because there are too many people. So anyway, she decided to let it go.</div>
<div></div>
<div>The devil think she is the cutest loli in the world, but there is some people in the kingdom don't think so. And they think WJMZBMR is the most cutest loli.&nbsp;</div>
<div></div>
<div>It seems a war is approaching, but in this kingdom, due to the old tradition, every conflict is solved by Algorithm contest!</div>
<div></div>
<div>One day, WJMZBMR is hanging out with her friend s***kplus on the street. And she noticed that there is a group of people playing algorithm contest to decide who is the cutest loli in the kingdom. One problem attracts her interest:</div>
<div></div>
<div>Given a tree with n vertices, we randomly choose k vertices of it. Then we can induced a subtree which is the smallest connected subtree of the original tree containing those k vertices.</div>
<div></div>
<div>Each vertex has a label(an integer), for a subtree we induced, we look at its diameter a-b,(if there are many diameters, pick the one with the smallest a, and then the smallest b). And output how many distinct label are on the diameter.</div>
<div></div>
<div>What is the expected value we output?</div>
<div></div>
<div>Of course, WJMZBMR is merely a cute loli and don't know much about the algorithm contest, but since you are a member of Princess's Knight, you should solve it for your princess, can you do it?</div>
<p></p></div><h2>Input</h2><div class=content><div>The first line contains an integer T, denoting the number of the test cases.</div>
<div>For each test case, the first line contains two integers n,k.</div>
<div>The next n-1 lines, each contains two integers a and b, denote there is an edge between a and b.</div>
<div>The next line contains n integers separated by a single space, denote each vertex's label in the order from 1 to n.</div>
<div></div>
<div>n,k &lt;= 300. label &lt;= 10^9.</div>
<div>T &lt;= 20.</div>
<p></p></div><h2>Output</h2><div class=content><div>For each case, output the result.</div>
<div>This problem is special judged. The relative error less than 1e-6 will be accepted.</div>
<p></p></div><h2>Sample Input</h2>
			<div class=content><span class=sampledata>1<br />
20 8<br />
2 1<br />
3 1<br />
4 1<br />
5 4<br />
6 3<br />
7 2<br />
8 4<br />
9 5<br />
10 5<br />
11 10<br />
12 11<br />
13 10<br />
14 11<br />
15 12<br />
16 12<br />
17 14<br />
18 13<br />
19 18<br />
20 17<br />
5 6 2 1 2 4 7 3 1 3 5 4 1 7 2 6 1 2 1 5 </span></div><h2>Sample Output</h2>
			<div class=content><span class=sampledata>5.7866158609<br />
</span></div><h2>HINT</h2>
			<div class=content><p><p>请不要提交，期待SPJ</p><br />
<p></p></p></div><h2>Source</h2>
			<div class=content><p><a href='https://www.lydsy.com/JudgeOnline/problemset.php?search=By&#32;WJMZBMR'>By WJMZBMR</a></p></div><center>[<a href='https://www.lydsy.com/JudgeOnline/submitpage.php?id=3865'>Submit</a>][<a href='https://www.lydsy.com/JudgeOnline/problemstatus.php?id=3865'>Status</a>][<a href='https://www.lydsy.com/JudgeOnline/bbs.php?id=3865'>Discuss</a>]</center>﻿<br>
<a href="https://www.lydsy.com/JudgeOnline/"><span class=red>HOME</span></a>
<a href="javascript:history.go(-1)"><span class=red>Back</span></a>

<hr>
<center>
	<div class="footer">
			<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=ko">한국어</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=cn">中文</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=fa">فارسی</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=en">English</a>&nbsp;
		<a href="https://www.lydsy.com/JudgeOnline/setlang.php?lang=th">ไทย</a>
	<br>		<div>版权所有 &copy;2008-2018 大视野在线测评</div>
		<div>Based on opensource project <a href="http://hustoj.googlecode.com">hustoj</a>.</div>
	</div>
</center>
</body>
</html>
